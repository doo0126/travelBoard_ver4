<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <meta charset="UTF-8">
    <title>detail</title>

</head>
<body>
<table class="table table-striped">
    <tr>
        <td>제목</td>
        <td th:text="${boardDTO.boardTitle}">

        </td>
        <td>작성자</td>
        <td th:text="${boardDTO.boardWriter}">

        </td>
        <th>내용</th>
        <tr th:text="${boardDTO.boardContents}" ></tr>
    <tr >



</table>


<div id="delete_update">
    <button class="btn btn-primary" onclick="boardList()">글 목록</button>
    <button class="btn btn-primary" onclick="home()">home</button>
    <button class="btn btn-danger" onclick="boardDelete()">삭제</button>
    <button class="btn btn-warning" onclick="boardUpdate()">수정</button>
</div>
</body>
<script th:inline="javascript">
    const boardList = () => {
        location.href = "/board/list";
    }
    const home = () => {
        location.href = "/";
    }
    const boardDelete = () => {
        const id = "[[${boardDTO.id}]]";
        console.log(id);
        const boardDelete = confirm("글을 삭제하시겠습니까?");
        if (boardDelete == true) {
            console.log("true");
            const result = boardPasswordAxios(id)
            if (result) {
                location.href = "/board/delete/" + id;
            } else {
                alert("사용자 불 일치");
            }

            //

        } else {
            alert("취소");
        }
    }
    const boardPasswordAxios = (boardId) => {
        const result = boardId;

       axios({
           method:"post",
           url:"/board/passwordAxios",
           params:({
               id: result
           })
       }).then(res =>{
           return true;
       }).catch(res =>{
           return false;
       })

    }




</script>
</html>